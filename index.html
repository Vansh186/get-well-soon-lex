<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>get_well_soon_lex.php?cgi-bin=29ff0a227b080040fca17f6d73c24e52</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type='text/javascript' src='https://www.midijs.net/lib/midi.js'></script>
    <link
            rel="stylesheet"
            href="https://unpkg.com/98.css"
    >
</head>

<style>
    html, body {
        font-family: "Comic Sans MS", "Comic Sans", cursive;
        background: rgb(63,94,251);
        background: radial-gradient(circle, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 100%);
    }

    #subtitle {
        color: hotpink;
    }

    #title {
        color: bisque;
        text-shadow: 2px 2px aqua;
    }

    #artist {
        color: gold;
        text-shadow: 2px 2px black;
    }

    #art {
        max-width: 100%;
    }

    #modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0,0.4);
    }

    .modal-content {
        margin: 15% auto;
    }
</style>

<body>
    <center>
        <h1 id="title">Get well soon Lex!!</h1>
        <marquee>
            <h2 id="subtitle">Lots of Love from the Organise Team</h2>
        </marquee>
        <img id="art" src="/images/tameka.png" />
        <br>        <br>
        <h3 id="artist">Picture by Tameka</h3>
        <br>
        <button id="next">Next</button>
        <button id="previous">Previous</button>
        <br>                            <br>
        <button id="stop-music">Stop Music</button>
    </center>

    <div id="modal">
        <div class="window modal-content" style="width: 300px">
            <div class="title-bar">
                <div class="title-bar-text">Whoopsy daisy!</div>
                <div class="title-bar-controls">
                    <button aria-label="Close" id="modal-close"></button>
                </div>
            </div>
            <div class="window-body">
                <p>As part of our iterative approach to application development, this button isn't yet implemented. Instead press the next button until you see the image that you were seeing previously. Thanks!</p>
            </div>
        </div>
    </div>


</body>

<script>
    $(document).ready(function () {
        var isMyHeartWillGoOnCurrentlyNotBeingPlayed = true;
        var niceSongToPlayOnThisWebsite;
        var whichNumberWeAreCurrentlyDisplaying = 0;
        var arrayWithTheNamesOfAndRespectiveImageEachPersonWhoContributed = [
            {
                name: "Tameka",
                image: "tameka.png"
            },
            {
                name: "Pavlina",
                image: "pavlina.png"
            },
            {
                name: "Six",
                image: "six.png"
            },
            {
                name: "Alex",
                image: "alex.png"
            },
            {
                name: "Andrew",
                image: "andrew.png"
            },
            {
                name: "Sean",
                image: "sean.png"
            },
            {
                name: "Bex",
                image: "bex.png"
            },
            {
                name: "Nat",
                image: "nat.png"
            },
            {
                name: "Chloe",
                image: "chloe.png"
            }
        ]

        for (var i = 0; i < 1; i++) {
            addAWarningAlertToThePreviousButtonToExplainItIsntImplemented();
            addAnEventListenerToTheCloseModalAndCloseItIfYouClickOnItAsTheActionAfterwards();
            enableTheFunctionalityPertainingToTheNextButton();
            makeTheStopMusicButtonWork();

            $(window).click(function playThatFunkyMusic() {
                if (!isMyHeartWillGoOnCurrentlyNotBeingPlayed) return;
                playMyHeartWillGoOnForLex();
            });
        }

        function playMyHeartWillGoOnForLex() {
            var self = this;
            niceSongToPlayOnThisWebsite = new Audio("titanic_bad_recorder.mp3");
            niceSongToPlayOnThisWebsite.play();
            niceSongToPlayOnThisWebsite.addEventListener("ended", function playItAgainSam() {
                niceSongToPlayOnThisWebsite.currentTime = 0;
                niceSongToPlayOnThisWebsite.play();
            })
            isMyHeartWillGoOnCurrentlyNotBeingPlayed = false;
        }

        function addAWarningAlertToThePreviousButtonToExplainItIsntImplemented() {
            var self = this;
            $('#previous').click(function alertTheUserAboutWhatsGoingOnWithThePreviousButton() {
                displayAModalInformingTheUserAboutWhatIsGoingOnWithThePreviousFunction();
            })
        }

        function enableTheFunctionalityPertainingToTheNextButton() {
            $('#next').click(function clickyClickyNextNext() {
                var self = this;
                if (isMyHeartWillGoOnCurrentlyNotBeingPlayed) playMyHeartWillGoOnForLex();

                console.log("debug: next button clicked by user");
                whichNumberWeAreCurrentlyDisplaying++;

                if (whichNumberWeAreCurrentlyDisplaying > arrayWithTheNamesOfAndRespectiveImageEachPersonWhoContributed.length - 1) {
                    whichNumberWeAreCurrentlyDisplaying = 0;
                }

                var theOneThatWeCurrentlyAreInNeedOfWhereOneIsPertainingToPieceOfArtwork = arrayWithTheNamesOfAndRespectiveImageEachPersonWhoContributed[whichNumberWeAreCurrentlyDisplaying];
                var whereTheArtLives = $('#art');
                whereTheArtLives.hide();
                whereTheArtLives.attr('src', `/images/${theOneThatWeCurrentlyAreInNeedOfWhereOneIsPertainingToPieceOfArtwork.image}`);
                whereTheArtLives.slideToggle();
                $('#artist').html(`Picture by ${theOneThatWeCurrentlyAreInNeedOfWhereOneIsPertainingToPieceOfArtwork.name}`);
            })
        }

        function displayAModalInformingTheUserAboutWhatIsGoingOnWithThePreviousFunction() {
            $('#modal').show();
        }

        function addAnEventListenerToTheCloseModalAndCloseItIfYouClickOnItAsTheActionAfterwards() {
            $('#modal-close').click(function implementTheClosingOfTheModal() {
                $('#modal').hide();
            })
        }

        function makeTheStopMusicButtonWork() {
            $('#stop-music').click(function stopTheMusicPlease() {
                niceSongToPlayOnThisWebsite.pause();
                niceSongToPlayOnThisWebsite.currentTime = 0;
                MIDIjs.play('titanic-3.mid');
            })
        }
    });
</script>
</html>